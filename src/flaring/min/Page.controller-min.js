sap.ui.define(["jquery.sap.global","sap/ui/core/Fragment","sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel"],function(t,e,n,i){"use strict";var s=n.extend("flaring.Page",{onInit:function(e){var n=new i(t.sap.getModulePath("mockdata","/event.json"));this.getView().setModel(n),this.getView().bindElement("/EventDetails/0"),this._showFormFragment("EventDetails"),this._showFormFragment("Event")},onExit:function(){for(var t in this._formFragments){if(!this._formFragments.hasOwnProperty(t))return;this._formFragments[t].destroy(),this._formFragments[t]=null}},handleEditPress:function(){this._oSupplier=t.extend({},this.getView().getModel().getData().SupplierCollection[0]),this._toggleButtonsAndView(!0)},handleCancelPress:function(){var t=this.getView().getModel(),e=t.getData();e.SupplierCollection[0]=this._oSupplier,t.setData(e),this._toggleButtonsAndView(!1)},handleSavePress:function(){this._toggleButtonsAndView(!1)},_formFragments:{},_toggleButtonsAndView:function(t){var e=this.getView();e.byId("edit").setVisible(!t),e.byId("save").setVisible(t),e.byId("cancel").setVisible(t),this._showFormFragment(t?"Change":"Display")},_getFormFragment:function(t){var e=this._formFragments[t];return e?e:(e=sap.ui.xmlfragment(this.getView().getId(),"flaring."+t),this._formFragments[t]=e)},_showFormFragment:function(t,e){var n=this.getView().byId("page");e&&n.removeAllContent(),n.insertContent(this._getFormFragment(t))}});return s});